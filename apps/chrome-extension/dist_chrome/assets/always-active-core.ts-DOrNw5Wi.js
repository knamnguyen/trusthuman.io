(function(){(function(){const t={enabled:!0,spoofVisibility:!0,spoofFocus:!0,blockBlur:!0,blockMouseLeave:!0,keepAnimations:!0},o=e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()};if(t.spoofVisibility){Object.defineProperty(document,"visibilityState",{get(){return"visible"},configurable:!0}),Object.defineProperty(document,"hidden",{get(){return!1},configurable:!0}),Object.defineProperty(document,"webkitVisibilityState",{get(){return"visible"},configurable:!0}),Object.defineProperty(document,"webkitHidden",{get(){return!1},configurable:!0});let e=!0;document.addEventListener("visibilitychange",n=>{if(t.enabled){if(e){e=!1;return}o(n)}},!0),document.addEventListener("webkitvisibilitychange",n=>{t.enabled&&o(n)},!0),window.addEventListener("pagehide",n=>{t.enabled&&o(n)},!0)}if(t.spoofFocus){Document.prototype.hasFocus=new Proxy(Document.prototype.hasFocus,{apply(i,r,a){return t.enabled?!0:Reflect.apply(i,r,a)}});let e=!0;const n=i=>{if(t.enabled&&(i.target===document||i.target===window)){if(e){e=!1;return}o(i)}};document.addEventListener("focus",n,!0),window.addEventListener("focus",n,!0)}if(t.blockBlur){const e=n=>{t.enabled&&(n.target===document||n.target===window)&&o(n)};document.addEventListener("blur",e,!0),window.addEventListener("blur",e,!0)}if(t.blockMouseLeave&&(window.addEventListener("mouseleave",e=>{t.enabled&&(e.target===document||e.target===window)&&o(e)},!0),window.addEventListener("mouseout",e=>{t.enabled&&(e.target===document.documentElement||e.target===document.body)&&o(e)},!0)),t.keepAnimations){let e=0;window.requestAnimationFrame=new Proxy(window.requestAnimationFrame,{apply(n,i,r){if(t.enabled&&document.hidden){const a=Date.now(),d=Math.max(0,16-(a-e)),u=setTimeout(()=>{r[0](performance.now())},d);return e=a+d,u}return Reflect.apply(n,i,r)}}),window.cancelAnimationFrame=new Proxy(window.cancelAnimationFrame,{apply(n,i,r){if(t.enabled&&document.hidden){clearTimeout(r[0]);return}return Reflect.apply(n,i,r)}})}window.alwaysActive={enable:()=>{t.enabled=!0},disable:()=>{t.enabled=!1},isEnabled:()=>t.enabled,configure:e=>{Object.assign(t,e)},getConfig:()=>({...t})},console.log("Always Active Core loaded - Tab will appear active even when in background")})();
//# sourceMappingURL=always-active-core.ts-DOrNw5Wi.js.map
})()
