// HumanVerification - Core verification record
model HumanVerification {
  id             String  @id @default(uuid())
  userId         String? // Optional for MVP (no auth initially)
  trustProfileId String?

  // Verification result
  verified    Boolean
  confidence  Float
  faceCount   Int
  rawResponse Json? // AWS Rekognition response
  photoS3Key  String? // S3 key if photo stored

  // Activity type (for routing to correct table)
  activityType String // "linkedin_comment" | "x_comment" | future types

  // Links to platform-specific activity (one of these will be set)
  linkedinCommentId String? @unique
  xCommentId        String? @unique

  createdAt DateTime @default(now())

  // Relations
  user            User?                     @relation(fields: [userId], references: [id], onDelete: Cascade)
  trustProfile    TrustProfile?             @relation(fields: [trustProfileId], references: [id], onDelete: Cascade)
  linkedinComment VerifiedLinkedInComment?  @relation(fields: [linkedinCommentId], references: [id])
  xComment        VerifiedXComment?         @relation(fields: [xCommentId], references: [id])

  @@index([userId])
  @@index([trustProfileId])
  @@index([activityType])
  @@index([createdAt])
}
