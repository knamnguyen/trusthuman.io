// HumanVerification - Core verification record (face detection result)
model HumanVerification {
  id             String @id @default(uuid())
  trustProfileId String

  // Verification result
  verified    Boolean
  confidence  Float
  faceCount   Int
  rawResponse Json? // AWS Rekognition response

  // Activity type (for knowing which relation to check)
  activityType String // "linkedin" | "x" | "facebook" | "threads" | "reddit" | "ph" | "github" | "hn"

  createdAt DateTime @default(now())

  // Relations
  trustProfile TrustProfile @relation(fields: [trustProfileId], references: [id], onDelete: Cascade)

  // Platform activities (one-to-one, only one will be populated based on activityType)
  linkedinActivity VerifiedLinkedInActivity?
  xActivity        VerifiedXActivity?
  facebookActivity VerifiedFacebookActivity?
  threadsActivity  VerifiedThreadsActivity?
  redditActivity   VerifiedRedditActivity?
  phActivity       VerifiedPHActivity?
  githubActivity   VerifiedGitHubActivity?
  hnActivity       VerifiedHNActivity?

  @@index([trustProfileId])
  @@index([createdAt])
}
