model UserBrowserState {
  userId String @id
  state  String
  user   User   @relation(fields: [userId], references: [id])
}

model BrowserInstance {
  id                    String                @id
  hyperbrowserSessionId String                @unique
  accountId             String
  status                BrowserInstanceStatus
  createdAt             DateTime              @default(now())

  linkedInAccount LinkedInAccount @relation(fields: [accountId], references: [id])
}

enum BrowserInstanceStatus {
  INITIALIZING
  RUNNING
  STOPPED
  ERROR
}

model BrowserJob {
  id              String           @id
  status          BrowserJobStatus
  accountId       String
  error           String?
  output          String?
  createdAt       DateTime         @default(now())
  startAt         DateTime
  completedAt     DateTime?
  lastRunAt       DateTime?
  linkedInAccount LinkedInAccount  @relation(fields: [accountId], references: [id])

  @@index([status])
}

enum BrowserJobStatus {
  QUEUED
  RUNNING
  TERMINATED
  COMPLETED
  FAILED
}
