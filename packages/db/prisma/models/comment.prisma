model Comment {
  id              String    @id
  postUrl         String    @default("")
  postCreatedAt   DateTime?
  postFullCaption String
  postComments     Json?
  authorName       String?
  authorProfileUrl String?
  authorAvatarUrl  String?
  authorHeadline   String?
  postAlternateUrns String[]     @default([""])

  peakTouchScore   Int?
  comment           String
  commentUrl        String?
  originalAiComment String?
  commentedAt       DateTime?

  isAutoCommented   Boolean       @default(true)
  status            CommentStatus @default(DRAFT)
  schedulePostAt    DateTime?

  accountId String

  autoCommentRunId String?
  autoCommentError String?

  account        LinkedInAccount? @relation(fields: [accountId], references: [id])
  autoCommentRun AutoCommentRun?  @relation(fields: [autoCommentRunId], references: [id])

  @@index([postUrl])
  @@index([commentedAt])
  @@index([status])
  @@index([postAlternateUrns], type: Gin)
}

enum CommentStatus {
  DRAFT
  SCHEDULED
  QUEUED
  POSTING
  POSTED
  FAILED
  CANCELLED
}
