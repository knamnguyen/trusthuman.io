model Organization {
  id               String   @id
  name             String
  orgSlug          String?
  stripeCustomerId String?  @unique
  purchasedSlots   Int      @default(1)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  // Social referral earned premium (for FREE users)
  earnedPremiumExpiresAt DateTime?

  members            OrganizationMember[]
  linkedInAccounts   LinkedInAccount[]
  socialSubmissions  SocialSubmission[]
}

model OrganizationMember {
  id          String   @id @default(uuid())
  orgId       String
  userId      String
  role        String
  isOrgActive String?
  joinedAt    DateTime @default(now())

  org  Organization @relation(fields: [orgId], references: [id], onDelete: Cascade)
  user User         @relation(fields: [userId], references: [id], onDelete: Cascade)

  //to delete - why we need this here?
  linkedInAccount   LinkedInAccount? @relation(fields: [linkedInAccountId], references: [id])
  linkedInAccountId String?

  @@unique([orgId, userId])
  @@index([userId])
}
