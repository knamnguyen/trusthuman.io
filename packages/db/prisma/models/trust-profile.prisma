// TrustProfile - Core identity with Human # and verification stats
model TrustProfile {
  id          String   @id @default(uuid())
  humanNumber Int      @unique @default(autoincrement()) // Human #1, #2, etc.
  userId      String   @unique
  username    String   @unique // URL-safe: trusthuman.io/withkynam
  displayName String?
  avatarUrl   String?
  bio         String?  @db.VarChar(160) // Short bio for profile (like Twitter)

  // Verification stats
  totalVerifications Int       @default(0)
  currentStreak      Int       @default(0)
  longestStreak      Int       @default(0)
  lastVerifiedAt     DateTime?
  lastStreakDate     DateTime? // Last date streak was updated (for cron)

  // Settings
  isPublic         Boolean @default(true)
  defaultLayout    String  @default("horizontal") // "horizontal" or "vertical"
  badgeImageStyle  String  @default("logo") // "logo" or "avatar" - left image on badge

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  user              User                       @relation(fields: [userId], references: [id], onDelete: Cascade)
  platformLinks     PlatformLink[]
  verifications     HumanVerification[]
  // Platform activities (standardized schema)
  linkedinActivity  VerifiedLinkedInActivity[]
  xActivity         VerifiedXActivity[]
  facebookActivity  VerifiedFacebookActivity[]
  threadsActivity   VerifiedThreadsActivity[]
  redditActivity    VerifiedRedditActivity[]
  phActivity        VerifiedPHActivity[]
  githubActivity    VerifiedGitHubActivity[]
  hnActivity        VerifiedHNActivity[]

  @@index([userId])
  @@index([username])
  @@index([humanNumber])
  @@index([totalVerifications]) // For leaderboard queries
}
