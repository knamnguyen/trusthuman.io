model CommentAnalysis {
  id     String @id @default(uuid())
  userId String

  commentUrl       String  @db.Text
  commentText      String  @db.Text
  authorName       String
  authorHeadline   String?
  authorProfileUrl String?
  avatarS3Key      String?
  avatarS3Url      String?

  analysisJson Json
  overallScore Float
  aiScore      Float

  isPublic  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([createdAt])
}
