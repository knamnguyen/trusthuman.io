# .env.local.example
#
# This file shows how to configure port overrides for git worktrees.
# Copy this file to `.env.local` in each worktree and customize the port.
#
# IMPORTANT: `.env.local` is git-ignored and worktree-specific.
# Each worktree can have different values without affecting others.
#
# -------------------------------------------------------------------
# How .env files work in Next.js:
# -------------------------------------------------------------------
# 1. .env              ← Shared defaults (committed to git)
# 2. .env.development  ← Environment-specific (committed to git)
# 3. .env.local        ← Machine/worktree overrides (git-ignored) ← HIGHEST PRIORITY
#
# Values in .env.local OVERRIDE values in .env
#
# -------------------------------------------------------------------
# Setup Instructions for Worktrees:
# -------------------------------------------------------------------
#
# When you create a new worktree, do this:
#
# 1. Navigate to your worktree:
#    cd ../worktrees-engagekit-turborepo/your-branch-name
#
# 2. Copy this file to .env.local:
#    cp .env.local.example .env.local
#
# 3. Edit .env.local and set your custom port:
#    PORT=3010  # Or 3020, 3030, etc.
#
# 4. (Optional) Update NEXTJS_URL if other services need to connect:
#    NEXTJS_URL="http://localhost:3010"
#
# -------------------------------------------------------------------
# Port Assignment Recommendations:
# -------------------------------------------------------------------
#
# Main repo (default):        PORT=3000
# Worktree 1 (feature-a):     PORT=3010
# Worktree 2 (feature-b):     PORT=3020
# Worktree 3 (bugfix-c):      PORT=3030
#
# Each worktree increments by 10 to leave room for other apps:
# - Next.js:       3000, 3010, 3020, 3030...
# - Ghost blog:    3001, 3011, 3021, 3031... (if running in worktree)
# - WXT extension: 3002, 3012, 3022, 3032... (if running in worktree)
#
# -------------------------------------------------------------------
# Example .env.local for Worktree on port 3010:
# -------------------------------------------------------------------

# Override the Next.js dev server port
PORT=3010

# Override API URLs so extensions/services connect to this worktree
# (The @add-worktree command sets these automatically)
NEXTJS_URL="http://localhost:3010"
VITE_APP_URL="http://localhost:3010"

# -------------------------------------------------------------------
# Why use .env.local?
# -------------------------------------------------------------------
#
# 1. WORKTREE ISOLATION: Each worktree can run on different ports simultaneously
#    - Main repo runs Next.js on 3000
#    - Worktree 1 runs Next.js on 3010
#    - Worktree 2 runs Next.js on 3020
#    - No conflicts!
#
# 2. NO GIT CONFLICTS: .env.local is git-ignored, so it won't cause merge conflicts
#
# 3. MACHINE-SPECIFIC: Different developers can use different ports without affecting each other
#
# 4. OVERRIDES ONLY: You only need to specify what's different from .env
#    - Keep PORT in .env.local
#    - All other vars (DATABASE_URL, API keys, etc.) come from .env automatically
#
# -------------------------------------------------------------------
# Pro Tip:
# -------------------------------------------------------------------
#
# The @add-worktree command has been updated to automatically create
# .env.local with the next available port. You usually won't need to
# manually create this file.
#
